<div class="flex flex-col mt-[1rem] min-w-full overflow-hidden">
  <div class="overflow-auto max-h-[80dvh]">
    <div
      *ngIf="data?.invoice"
      class="flex flex-row w-full justify-end items-center">
      <button
        title="Edit Client"
        class="!flex !flex-row !justify-center !items-center !rounded-2xl !gap-1"
        nz-button
        [nzType]="isEditMode ? 'default' : 'primary'"
        (click)="handleEditModeToggled()"
        type="button">
        <span class="sr-only">Edit</span>
        <span
          class="!flex !flex-row !justify-center !items-center !ml-0"
          nz-icon
          [nzType]="'edit'"
          nzTheme="outline"></span>
      </button>
    </div>
    <div class="flex flex-row gap-4 mx-2 items-center justify-between">
      <div class="w-[12rem]">
        <!-- create client nz-select -->
        <nz-select
          class="w-full"
          nzShowSearch
          nzAllowClear
          nzPlaceHolder="Select Client"
          [(ngModel)]="selectedClient"
          (ngModelChange)="handleClientChanged($event)">
          <nz-option
            *ngFor="let client of clientList"
            [nzLabel]="client.companyName"
            [nzValue]="client.companyName"></nz-option>
        </nz-select>
      </div>
      <div class="flex flex-row gap-2">
        <button
          nz-button
          title="Download Report"
          class="!rounded-lg !items-center justify-center !flex !flex-col relative">
          <div class="flex flex-row gap-1 items-center">
            <span class="sr-only">Download Report</span>
            <span
              class="items-center flex flex-col justify-center"
              nz-icon
              [nzType]="'download'"
              nzTheme="outline"></span>
          </div>
        </button>
        <button
          nz-button
          title="Print Report"
          class="!rounded-lg !items-center justify-center !flex !flex-col relative">
          <div class="flex flex-row gap-1 items-center">
            <span class="sr-only">Print Report</span>
            <span
              class="items-center flex flex-col justify-center"
              nz-icon
              [nzType]="'printer'"
              nzTheme="outline"></span>
          </div>
        </button>
        <button
          nz-button
          title="Email Report"
          class="!rounded-lg !items-center justify-center !flex !flex-col relative">
          <div class="flex flex-row gap-1 items-center">
            <span class="sr-only">Email Report</span>
            <span
              class="items-center flex flex-col justify-center"
              nz-icon
              [nzType]="'mail'"
              nzTheme="outline"></span>
          </div>
        </button>
      </div>
    </div>
    <app-invoice-item-list
      [items]="invoiceItemList"
      (addItemRequest)="handleAddLineItem()"
      (itemDeleted)="handleDeleteLineItem($event)"
      (changed)="handleLineItemsChanged($event)"
      (isValid)="handleIsValid($event)"
      class="[&>*]:mt-4"></app-invoice-item-list>
  </div>
</div>
